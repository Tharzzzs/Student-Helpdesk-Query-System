{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'pos_app/css/change_password.css' %}">

<div class="change-password-container">
  <h2>Change Your Password</h2>
  <p class="subtitle">Please enter your current password and set a new one</p>


  <form method="post" id="password-form">
    {% csrf_token %}

    <!-- Current Password -->
<div class="input-group">
  <label for="id_old_password">Current password</label>
  <div class="input-wrapper">
    <input type="password" name="old_password" id="id_old_password" placeholder="Enter your current password" required>
  </div>

  <!-- SERVER-SIDE ERROR FOR CURRENT PASSWORD -->
  {% if form.old_password.errors %}
    <p class="error">{{ form.old_password.errors.0 }}</p>
  {% endif %}
</div>


    <!-- New Password -->
    <div class="input-group">
      <label for="id_new_password1">New Password</label>
      <div class="input-wrapper">
        <input type="password" name="new_password1" id="id_new_password1" placeholder="Enter new password" required>
      </div>
      <!-- Requirements dynamically update -->
      <div class="password-requirements" id="requirements">
        <ul>
          <li class="invalid" data-check="length">At least 8 characters</li>
          <li class="invalid" data-check="lower">A lowercase letter</li>
          <li class="invalid" data-check="upper">An uppercase letter</li>
          <li class="invalid" data-check="special">A special character</li>
        </ul>
      </div>
    </div>

    <!-- Confirm New Password -->
    <div class="input-group">
      <label for="id_new_password2">Confirm New Password</label>
      <div class="input-wrapper">
        <input type="password" name="new_password2" id="id_new_password2" placeholder="Confirm new password" required>
      </div>
      <div class="error" id="match-error"></div>
    </div>

    <!-- Submit -->
    <button type="submit" disabled>Change Password</button>
    <a href="{% url 'home' %}" class="btn-cancel">Cancel</a>
  </form>
</div>

<script src="{% static 'pos_app/js/change_password.js' %}"></script>
{% endblock %}
